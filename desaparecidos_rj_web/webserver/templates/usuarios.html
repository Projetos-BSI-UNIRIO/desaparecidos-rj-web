{% extends './main.html' %}
{% load static %}

    {% block page_content %}
        <section id="page-contents">
            <header class="content-top">
                <p>Usuários</p>
                <img src="{% static 'images/back-button.png' %}" onclick="history.back()">
            </header>
            <section>
                <div id="register-button" class="grey-on-hover">
                    <a href="{% url 'cadastrarUsuario' %}">
                        <div>
                            <p class="button-title">CADASTRO</p>
                            <p class="button-subtitle">Clique aqui para cadastrar um usuário</p>
                        </div>
                        <img class="button-icon" src="{% static 'images/black-circle-plus-icon.png' %}">
                    </a>
                </div>
            </section>
            <section class="results-grid">
                {% if results %}
                {% for result in results %}
                    <div class="result user-result">
                        <div class="result-contents">
                            <a href="{% url 'editarUsuario' pk=result.pk %}" class="option-button link-button grey-on-hover">
                                <p>Editar</p><img src="{% static 'images/pencil-icon.png' %}">
                            </a>
                            <a href="{% url 'removerUsuario' pk=result.pk %}" class="option-button link-button grey-on-hover" style="margin-left: 16px;">
                                <p>Excluir</p><img src="{% static 'images/black-x-icon.png' %}">
                            </a>
                            <p class="label">Nome de usuário:</p> 
                            <p class="name">{{ result.username }}</p>
                        </div>
                        <div class=result-details-option>
                            <a href="{% url 'visualizarUsuario' pk=result.pk %}" class="option-button"><img src="{% static 'images/white-plus-icon.png' %}"><p>Detalhes</p></a>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>Nenhum usuario encontrada.</p>
            {% endif %}
                
            </section>
        </section>



        <section id="header_sectiom">
            <h2 class="section_header_h1">Desaparecidos</h2>
            <br>
            <hr>
        </section>
        <section id="object_creation_sectiom">
            <h2 class="section_header_h2">Criar</h2>
            <br>
            <p><a href="{% url 'cadastrarUsuario' %}">CLique aqui para cadastrar um usuario</a></p>
            <br>
            <hr>
        </section>
        <!--<section id="serch_section">
            <h2 class="section_header_h2">Search</h2>
            <br>
            <form method="POST" class="post-form">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Search</button>
            </form>
            <br>
            <hr>
        </section>-->
        <section id="entries_list">
            <h2 class="section_header_h2">Usuarios cadastrados</h2>
            <br>
            {% if results %}
                {% for result in results %}
                    <section class="results_list_item">
                        <div >
                            <p>Nome de Usuario: {{ result.username }}</p>
                            <p><a href="{% url 'visualizarUsuario' pk=result.pk %}">Detalhes</a></p>
                            <p><a href="{% url 'editarUsuario' pk=result.pk %}">Editar</a></p>
                            <p><a href="{% url 'removerUsuario' pk=result.pk %}">Apagar</a></p>
                        </div>
                        <br>
                        <br>
                    </section>
                {% endfor %}
            {% else %}
                <p>Nenhum usuario encontrada.</p>
            {% endif %}
        </section>
    {% endblock %}
